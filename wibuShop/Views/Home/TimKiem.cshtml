@model PagedList.IPagedList<wibuShop.Models.SanPham>
@using PagedList.Mvc;
@{
    ViewBag.Title = "TimKiem";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



@if (ViewBag.Thongbao != null)
{
    @ViewBag.Thongbao;
}
else
{<div class="container">
    <nav class="woocommerce-pagination">
        @Html.PagedListPager(Model, page => Url.Action("TimKiem", new { ViewBag.strSearch, page }), new PagedListRenderOptions()
        {
            LiElementClasses = new string[] { "page-number" },
            UlElementClasses = new string[] { "page-numbers", "nav-pagination", "links", "text-center" }
        })

    </nav>
</div>
    <main id="main" class="">

        <div class="row category-page-row" style="display: flex; justify-content: center;">
            <div class="col large-9">
                <div class="shop-container">

                    <div class="woocommerce-notices-wrapper"></div>
                    <div class="products row row-small large-columns-4 medium-columns-3 small-columns-2 has-equal-box-heights equalize-box">
                        @foreach (var item in Model)
                        {
                            double giagiam = Convert.ToDouble(@item.Gia) - Convert.ToDouble(@item.GiamGia);
                            double giam = Convert.ToDouble(@item.GiamGia) / Convert.ToDouble(item.Gia) * 100;
                            double giamphantram = Math.Round(giam, 0);
                            <div class="col-md-4 col-xs-6" style="width:18%;margin-left: 30px;padding:30px;float:left">
                                <div class="product" style="text-align:center;margin-top:20px;margin-bottom:20px">
                                    <div class="absolute left top z-1">
                                        <div class="callout badge badge-circle" style="background-color:red;width:65px;margin-bottom:5px">
                                            <div class="badge-inner secondary on-sale" style="background-color: red; width: 50px"><span class="onsale" style="background-color:red;font-size:20px;width:50px">-@giamphantram %</span></div>
                                        </div>
                                    </div>
                                    <div class="product-img">
                                        @{
                                            string ImagePath = "~/wwwroot/images/SanPham/" + item.AnhSP;
                                        }
                                        <a href="@Url.Action("SanPham","SanPham", new { id = item.MaSP })">
                                            <img src="@Url.Content(ImagePath)" id="anhSP" alt="" width="70%" height="210" />
                                        </a>
                                    </div>
                                    <div class="product-body">
                                        <p class="product-category" style="text-align:left;margin-top:15px;min-height:40px">
                                            @Html.DisplayFor(modelItem => item.TenSP)
                                        </p>
                                        <h4 class="product-price" style="text-align:left; color:red">
                                            <span style="text-decoration-line:line-through;opacity:0.5">@String.Format("{0:#,###}", @item.Gia)</span><span class="woocommerce-Price-currencySymbol">&#8363;</span>
                                            @String.Format("{0:#,###}", @giagiam)<span class="woocommerce-Price-currencySymbol">&#8363;</span>
                                        </h4>
                                    </div>

                                </div>
                            </div>
                        }
                    </div>
                    <!-- row -->

                </div>
                <!-- shop container -->
            </div>
        </div>
        }

    </main>}
<div style="margin-left:140px">
    @{
        Html.RenderAction("_Footer", "Home");
    }
</div>
<style>
    .widget_shopping_cart_content a {
        text-decoration: none;
        font-size: 40px;
        font-family: Calibri;
        margin-left: 20px;
    }
    .pagination-container ul li a {
        display: flex;
        border: medium;
        border-color: gainsboro;
        text-decoration: none;
        color: blue;
        font-size: 25px;
        padding-left: 18px;
        margin: 0px;
        padding-right: 0px;
    }

    .pagination-container ul {
        text-align: center;
        display: flex;
    }

        .pagination-container ul li {
            text-align: center;
            width: 50px;
            border-color: gainsboro;
            margin: 0px;
            padding: 0px;
        }

            .pagination-container ul li:hover {
                background-color: orange;
            }

    .active a {
        background-color: cornflowerblue;
        color: white;
        margin: 100px;
    }

    .product:hover {
        background-color: whitesmoke;
    }
</style>


