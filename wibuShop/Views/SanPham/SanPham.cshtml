@model wibuShop.Models.SanPham
@{
    ViewBag.Title = "SanPham";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<wibuShop.Models.SanPham> abc = ViewBag.sp;
}
<style>
    .product:hover {
        background-color: whitesmoke;
    }
</style>
<div style="margin-left: 174.6px; margin-right: 174.6px">
    <div class="page-title shop-page-title product-page-title">
        <div class="page-title-inner flex-row medium-flex-wrap container">
            <div class="flex-col flex-grow medium-text-center">
                <div class="is-small">
                    <nav class="woocommerce-breadcrumb breadcrumbs uppercase"><a href="@Url.Action("Index","Home")" style="text-decoration:none;color:orange">Trang chủ</a> <span class="divider">&#47;</span> <a href="@Url.Action("XemSanPhamTheoDanhMuc", "SanPham", new{ id = ViewBag.ma })" style="text-decoration: none; color: orange">@ViewBag.TenDM</a></nav>
                </div>
            </div>
            <div class="flex-col medium-text-center">
            </div>
        </div>
    </div>
    <div class="shop-container" style="margin-top:30px">
        <div id="product-6932" class="produ">
            <div class="product-container">
                @{ string ImagePath = "~/wwwroot/images/SanPham/" + Model.AnhSP;

                    double giagiam = Convert.ToDouble(Model.Gia) - Convert.ToDouble(Model.GiamGia);
                    double giam = Convert.ToDouble(Model.GiamGia) / Convert.ToDouble(Model.Gia) * 100;
                    double giamphantram = Math.Round(giam, 0);
                }
                <div class="product-main">
                    <div class="row content-row mb-0" style="display:flex">

                        <div class="product-gallery col large-5">

                            <div class="product-imag" data-columns="4">
                                <div class="woocommerce-product-gallery__image slide first">
                                    <a href="@Url.Content(ImagePath)">
                                        <img width="410" height="510" src="@Url.Content(ImagePath)" class="lazy-load wp-post-image skip-lazy"
                                             alt="" loading="lazy" title="bo-hoang-cung-Danxuenilan-5in1-chinh-hang"
                                             sizes="(max-width: 400px) 100vw, 410px" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="product-info summary col-fit col entry-summary product-summary" style="margin-left:60px">
                            <h1 class="product-title product_title entry-title">
                                @Html.DisplayFor(Model => Model.TenSP)
                            </h1>

                            <div class="is-divider small"></div>
                            <div class="price-wrapper">
                                <p class="price product-page-price price-on-sale">
                                    <del><span class="woocommerce-Price-amount amount" style="color:red"><bdi>@String.Format("{0:#,###}", Model.Gia)<span class="woocommerce-Price-currencySymbol">&#8363;</span></bdi></span></del>
                                    <ins style="text-decoration: none;margin-bottom:20px"><span class="woocommerce-Price-amount amount" style="text-decoration: none;margin-bottom:20px; list-style: none"><bdi style="font-size: 35px; color: red;text-decoration:none">@String.Format("{0:#,###}", @giagiam)<span class="woocommerce-Price-currencySymbol">&#8363;</span></bdi></span></ins>
                                    <span class="onsale" style="margin-left: 5px;margin-top:90px; font-size: .75rem; color: #fff !important; background: #ee4d2d; border-radius: 2px; padding: 5px 10px; font-weight: 600; line-height: 1; white-space: nowrap;">Giảm @String.Format("{0:#,###}", @giam)%</span>
                                </p>
                                <p>	&#10025;	&#10025;	&#10025;	&#10025;	&#10025; </p>
                            </div>
                            <div class="product-short-description" style="border:medium">
                                @if (Model.SoLuongTon > 0)
                                {
                                    <p><strong>Tình trạng:</strong> Còn hàng</p>}
                                @if (Model.SoLuongTon == 0)
                                {
                                    <p><strong>Tình trạng:</strong> Hết hàng</p>}
                                @if (Model.NhaXuatBan != null)
                                {<p><strong>Phân phối:</strong> @Html.DisplayFor(Model => Model.NhaXuatBan)</p>}
                            </div>

                            <form class="cart mb-2" method="post" enctype='multipart/form-data' action="@Url.Action("ThemSP", "GioHang", new { MaSP = Model.MaSP })">
                                <div class="row pb-2">
                                    <div class="col-md-3 pt-3 ml-2">Số lượng</div>
                                    <div class="col-md-5 quantity buttons_added">
                                        <input type="button" value="-" class="minus button is-form">
                                        <input type="number" id="quantity_60d19c138f0b1" class="input-text qty text" step="1" min="1" max="@Model.SoLuongTon" name="SoLuong" value="1" title="SL" size="4" placeholder="" inputmode="numeric" readonly />
                                        <input type="button" value="+" class="plus button is-form">
                                    </div>
                                </div>
                                <button type="submit" name="add-to-cart" value="6932" class="single_add_to_cart_button button alt" style="border-color:orange;color:white;border-radius:10px;background-color:orangered;width:250px;height:40px;font-size:16px;font-weight:bold;margin-top:20px;margin-bottom:20px">THÊM VÀO GIỎ</button><hr />
                            </form>

                        </div>
                        <div id="product-sidebar" class="col large-3 hide-for-medium product-sidebar-small" style="margin-left:60px">
                            <div class="row tieu-chi-sidebar" id="row-1179559846">
                                <div id="col-1076857932" class="col div-cam-ket small-12 large-12">
                                    <div class="col-inner">
                                        <aside id="custom_html-13" class="widget_text widget widget_custom_html">
                                            <div style="height:50px;background-color:orange;width:320px;border-radius:10px;padding-left:30px">
                                                <p style="color:white;text-align:center;padding-top:13px;font-weight:bold;padding-left:-10px">CAM KẾT MUA HÀNG</p>
                                            </div>
                                            <div class="is-divider small"></div>
                                            <div class="textwidget custom-html-widget">
                                                <ul class="list-camket">
                                                    <li><i class="fa fa-check-circle" aria-hidden="true"></i>&#10004; Cam kết 100% hàng chính hãng. </li>
                                                    <li><i class="fa fa-check-circle" aria-hidden="true"></i>&#10004; Nhân viên tư vấn tận tình, chu đáo. </li>
                                                    <li><i class="fa fa-check-circle" aria-hidden="true"></i>&#10004; Xem hàng kiểm tra hàng trước khi thanh toán. </li>
                                                    <li><i class="fa fa-check-circle" aria-hidden="true"></i>&#10004; Cam kết bồi hoàn 200% nếu sản phẩm kém chất lượng, ko rõ nguồn gốc . </li>
                                                </ul>
                                                <div class="vt-vanc" style="text-align:center">
                                                    <strong>Đơn vị vận chuyển</strong><br />
                                                    <img src="~/wwwroot/images/ship.PNG">
                                                </div>
                                            </div>
                                        </aside>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-footer">
                    <div class="row">
                        <div class="large-12">
                            <div class="container">
                                <div class="product-page-accordian">
                                    <div class="san-pham-tab">
                                        <div>
                                            <h3 class="tab-thong-tin">
                                                Mô tả
                                            </h3>
                                        </div>
                                        <div class="tab-thong-tin-trong">
                                            @if (Model.TacGia != null)
                                            {<p><strong>Tác giả:</strong> @Html.DisplayFor(Model => Model.TacGia)</p>}

                                            @if (Model.GioiThieu != null)
                                            {<p><strong>Chi tiết sản phẩm:</strong> @Html.DisplayFor(Model => Model.GioiThieu)</p>}
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="related related-products-wrapper product-section" style="height:auto">

                                    <h3 class="product-section-title product-section-title-related pt-half pb-half uppercase">
                                        Sản phẩm tương tự
                                    </h3>
                                 
                                        <!-- Swiper -->
                                        <div class="swiper mySwiper">
                                            <div class="swiper-wrapper" style="margin-left:40px">
                                                @foreach (var item in abc)
                                                {
                                                    double giagiam1 = Convert.ToDouble(@item.Gia) - Convert.ToDouble(@item.GiamGia);
                                                    double giam1 = Convert.ToDouble(@item.GiamGia) / Convert.ToDouble(item.Gia) * 100;
                                                    double giamphantram1 = Math.Round(giam1, 0);
                                                    <div class="swiper-slide">

                                                        
                                                        <div class="co" style="width:380px;margin-left:10px">
                                                            <div class="product1" style="text-align:center;margin-top:20px;margin-bottom:20px">
                                                                <div class="absolute left top z-1">
                                                                    <div class="call" style="background-color:red;width:45px;margin-bottom:5px">
                                                                        <div class="badg" style="background-color: red; width: 50px"><span class="onsale" style="background-color:red;font-size:15px;width:20px">-@giamphantram1 %</span></div>
                                                                    </div>
                                                                </div>
                                                                <div class="product-img">
                                                                    @{
                                                                        string ImagePath1 = "~/wwwroot/images/SanPham/" + item.AnhSP;
                                                                    }
                                                                    <a href="@Url.Action("SanPham","SanPham", new { id = item.MaSP })">
                                                                        <img src="@Url.Content(ImagePath1)" id="anhSP" alt="" width="90%" height="10px" />
                                                                    </a>
                                                                </div>
                                                                <div class="produc">
                                                                    <p class="produc" style="text-align: left; margin-top: 15px; min-height: 40px">
                                                                        @Html.DisplayFor(modelItem => item.TenSP)
                                                                    </p>
                                                                    <h4 class="produ" style="text-align:left; color:red">
                                                                        <span style="text-decoration-line:line-through;opacity:0.5">@String.Format("{0:#,###}", @item.Gia)</span><span class="woocommerce-Price-currencySymbol">&#8363;</span>
                                                                        @String.Format("{0:#,###}", @giagiam1)<span class="woocommerce-Price-currencySymbol">&#8363;</span>
                                                                    </h4>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        
                                                    </div>}
                                                </div>
                                            <div class="swiper-button-next"></div>
                                            <div class="swiper-button-prev"></div>
                                            <div class="swiper-pagination"></div>
                                        </div>
</div>

                            </div>
                        </div>

                    </div>


                </div>
            </div>
        </div>

    </div>
</div>
<div style="margin-left:140px">
    @{
        Html.RenderAction("_Footer", "Home");
    }
</div>
<link rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<style>
    .widget_shopping_cart_content a {
        text-decoration: none;
        font-size: 40px;
        font-family: Calibri;
        margin-left: 20px;
    }
    .swiper-button-next, .swiper-button-prev {
        border: solid;
        border-color:white;
        background-color:white;
        color: gray;
        margin-left: 20px;
        border-radius: 65px;
        transform:scale(0.5);
        padding:13px;
    }
         .swiper-button-prev:hover {
            transform: scale(1.1);
        }
        .swiper-button-next:hover {
            transform: scale(1.1);
        }
</style>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 5,
        spaceBetween: 30,
        slidesPerGroup: 4,
        loop: true,
        loopFillGroupWithBlank: true,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });
</script>
<style>
    

    body {
       
        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
        font-size: 14px;
        
        margin: 0;
        padding: 0;
    }

    .swiper {
        width: 100%;
        height: 70%;
    }

    .swiper-slide {
        text-align: center;
        font-size: 18px;
        background: #fff;
        /* Center slide text vertically */
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
    }

        .swiper-slide img {
            display: block;
            width: 100%;
            height: 50%;
            object-fit: cover;
        }
        .related{
            width:130%;
            height:150%;
        }
</style>

